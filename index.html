<!DOCTYPE html>
<html>
  <head>
    <title>Motions in the Council</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  <div class="container">
    <h1>Hello, world!</h1>
  </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="./js/bootstrap.min.js"></script>

    <!-- websockets -->
    <script src="https://d1fxtkz8shb9d2.cloudfront.net/sockjs-0.3.js"></script>
    <script type="text/javascript">
    // Change to wherever the backend ends up being hosted
    var socket = new SockJS('http://localhost:5000/sockjs');
    socket.onopen = function() {
      console.log('Socket connection successful');
    };
    socket.onmessage = function(e) {
      console.log('data received:', e.data);
      // Only respond if it's not a global message for demo purposes
      var data = JSON.parse(e.data);
      if (data.global) {
        return;
      }

      // Send a response
      var data = { msg: 'pong' };
      socket.send(JSON.stringify(data));
    };
    socket.onclose = function() {
      console.log('Socket connection closed');
    };
    </script>
  </body>
</html>